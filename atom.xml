<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Evan 的 Blog</title>
  
  <subtitle>要開始更新了！</subtitle>
  <link href="https://blog.catoverload.dev/atom.xml" rel="self"/>
  
  <link href="https://blog.catoverload.dev/"/>
  <updated>2025-04-08T12:46:52.482Z</updated>
  <id>https://blog.catoverload.dev/</id>
  
  <author>
    <name>Evan Chang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>IQL 介紹</title>
    <link href="https://blog.catoverload.dev/2025/04/08/iql/"/>
    <id>https://blog.catoverload.dev/2025/04/08/iql/</id>
    <published>2025-04-08T11:19:05.000Z</published>
    <updated>2025-04-08T12:46:52.482Z</updated>
    
    <content type="html"><![CDATA[<script src="/js/dateUp.js"></script><p>這個文章會簡單介紹 IQL 這篇論文在做什麼。</p><div class="note note-info">            <p>論文標題: Offline Reinforcement Learning with Implicit Q-Learning<br>作者: Ilya Kostrikov, Ashvin Nair &amp; Sergey Levine<br>發表年份: 2021</p>          </div><h1>這篇論文在幹嘛？</h1><p>這篇是一個 offline 的 reinforcement learning，主要是解決 action out-of-distribution 的問題，簡單來說就是在資料集中沒有出現過的 action 就無法使用，所以在訓練時需要去避免使用它。</p><p>為什麼會有「沒出現過的 action」這種問題呢？是因為 offline learning 跟 online learning 的資料來源不同， offline 的資料都是使用由一開始的數據集，online learning 是跟環境做互動後產生的資料，他是邊訓練邊製作資料的。</p><p><img src="/img/iql/OFFLINE_RL.gif" alt="Online 和 Offline 比較圖"><br>圖片從<a href="https://offline-rl.github.io/">這個網站</a>抓的</p><p>那 offline 這就會出現一個叫 out-of-distribution 的問題，google 中文翻譯叫分佈外，這裡的解釋就是：如果我想知道做一個 action 會產生出的下一個 state 還有 reward ，但剛好資料集沒有這個 action 的資料怎麼辦，那就沒救啦，因為根本沒有資料可以給你參考你要去哪裡找答案。所以下面這個一般常見的 Temporal-Difference (TD) 公式 <sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Kostrikov, I., Nair, A., & Levine, S. (2021). Offline reinforcement learning with implicit q-learning. arXiv preprint arXiv:2110.06169.">[1]</span></a></sup> 就不能用啦。</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi>L</mi><mrow><mi>T</mi><mi>D</mi></mrow></msub><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo separator="true">,</mo><msup><mi>s</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">)</mo><mo>∼</mo><mi mathvariant="script">D</mi></mrow></msub><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><msup><mi>a</mi><mo mathvariant="normal">′</mo></msup></munder><msub><mi>Q</mi><mover accent="true"><mi>θ</mi><mo>^</mo></mover></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal">′</mo></msup><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo><mo separator="true">,</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\tag{1}L_{TD}(\theta)=\mathbb{E}_{(s,a,s^\prime)\sim \mathcal{D}}[(r(s,a)+\gamma \max_{a^\prime}Q_{\hat{\theta}}(s^\prime,a^\prime)-Q_\theta(s,a))^2],</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mrel mtight">∼</span><span class="mord mathcal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">[(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.5459em;vertical-align:-0.744em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.356em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.744em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3743em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span><span style="top:-2.9634em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3257em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span></span><span class="tag"><span class="strut" style="height:1.6081em;vertical-align:-0.744em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p>因為公式的這個部分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><msub><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mi>a</mi><mo mathvariant="normal">′</mo></mrow></msub><msub><mi>Q</mi><mover accent="true"><mi>θ</mi><mo>^</mo></mover></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal">′</mo></msup><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gamma \max_{a\prime} Q_{\hat{\theta}}(s^\prime,a^\prime)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0776em;vertical-align:-0.3257em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2389em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3743em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span><span style="top:-2.9634em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3257em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 會用搜尋在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>s</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">s^\prime</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span> （也就是下一個 state）的狀態下，有哪一種 action 可以讓 Q 這個 function 最大值，然後再使用 Q function 的數值。那這就不好啦，如果在所有的 action 集合中開始亂找但找到沒出現在資料集裡面的 action 怎麼辦？出事啦阿北。出現 out-of-distribution 了！</p><p>那怎麼辦？</p><p>所以作者使用了一個特別的方法來避開這個問題。簡單來說他使用了一個像是搜尋讓 Q function 最大值的 action 但又不會找到資料集中沒出現過的 action。這個方法叫做 Expectile Regression！</p><h2 id="參考">參考</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>Kostrikov, I., Nair, A., &amp; Levine, S. (2021). Offline reinforcement learning with implicit q-learning. arXiv preprint arXiv:2110.06169.<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://offline-rl.github.io/">https://offline-rl.github.io/</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
      
      
    <summary type="html">&lt;script src=&quot;/js/dateUp.js&quot;&gt;&lt;/script&gt;
&lt;p&gt;這個文章會簡單介紹 IQL 這篇論文在做什麼。&lt;/p&gt;
&lt;div class=&quot;note note-info&quot;&gt;
            &lt;p&gt;論文標題: Offline Reinforcement</summary>
      
    
    
    
    <category term="Machine Learning" scheme="https://blog.catoverload.dev/categories/Machine-Learning/"/>
    
    <category term="Reinforcement Learning" scheme="https://blog.catoverload.dev/categories/Machine-Learning/Reinforcement-Learning/"/>
    
    
    <category term="Offline RL" scheme="https://blog.catoverload.dev/tags/Offline-RL/"/>
    
    <category term="Implicit Q-Learning" scheme="https://blog.catoverload.dev/tags/Implicit-Q-Learning/"/>
    
    <category term="IQL" scheme="https://blog.catoverload.dev/tags/IQL/"/>
    
    <category term="Expectile Regression" scheme="https://blog.catoverload.dev/tags/Expectile-Regression/"/>
    
    <category term="Temporal Difference Learning" scheme="https://blog.catoverload.dev/tags/Temporal-Difference-Learning/"/>
    
    <category term="Q-Learning" scheme="https://blog.catoverload.dev/tags/Q-Learning/"/>
    
  </entry>
  
  <entry>
    <title>Package Your Hexo</title>
    <link href="https://blog.catoverload.dev/2024/03/16/package-hexo/"/>
    <id>https://blog.catoverload.dev/2024/03/16/package-hexo/</id>
    <published>2024-03-16T04:43:15.000Z</published>
    <updated>2025-04-07T17:09:02.866Z</updated>
    
    <content type="html"><![CDATA[<!-- <script src="/js/modified.js"></script> --><script src="/js/dateUp.js"></script><h1>打包你的Hexo</h1><p>如果你有多部電腦共同使用，那這篇文章就可以教你如何用 github 在不同裝置上修改撰寫您的 hexo。<br><a href="https://blog.csdn.net/K1052176873/article/details/122879462">這篇文章</a>有教學要如何使用原本 hexo 部署到 github 的 repository，利用他的 branch 來存檔案。但我覺得這有些微的混亂，因此我認為新增一個 repository 也是個好方法。</p><h2 id="部署到新的repository">部署到新的repository</h2><p>因為 hexo 在 init 時所產生的 gitignore 正是我們需要的，所以步驟十分簡單，我們可以直接將整份 hexo 的資料夾 push 到 repository，就完成啦！</p><h2 id="新電腦的pull">新電腦的pull</h2><p>可以直接 pull 下來，那當然要先安裝好<a href="https://nodejs.org/">Node.js</a>和<a href="https://git-scm.com/">git</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install hexo-cli -g<br>npm install<br></code></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/K1052176873/article/details/122879462">那篇文章</a>也有提到其實 <code>npm install</code> 是去下載文件中的 package.json 這個檔案裡面的 dependencies 所列出的所有套件。</p><p>網站作者也有說要記住：不需要 <code>hexo init</code> 這個指令，不要打錯嘍！</p><p>這樣就完成啦！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;!-- &lt;script src=&quot;/js/modified.js&quot;&gt;&lt;/script&gt; --&gt;
&lt;script src=&quot;/js/dateUp.js&quot;&gt;&lt;/script&gt;
&lt;h1&gt;打包你的Hexo&lt;/h1&gt;
&lt;p&gt;如果你有多部電腦共同使用，那這篇文章就可以教你如何用 githu</summary>
      
    
    
    
    <category term="Hexo" scheme="https://blog.catoverload.dev/categories/Hexo/"/>
    
    
    <category term="hexo" scheme="https://blog.catoverload.dev/tags/hexo/"/>
    
    <category term="github" scheme="https://blog.catoverload.dev/tags/github/"/>
    
  </entry>
  
</feed>
